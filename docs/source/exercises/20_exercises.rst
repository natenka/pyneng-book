Задания
=======

{% include "../exercises\_intro.md" %}

Задание 20.1
~~~~~~~~~~~~

Переделать задание 19.4a таким образом, чтобы проверка доступности
устройств выполнялась не последовательно, а параллельно.

Для этого, можно взять за основу функцию check\_ip\_addresses из задания
11.3. Функцию надо переделать таким образом, чтобы проверка IP-адресов
выполнялась параллельно в разных потоках.

Задание 20.1a
~~~~~~~~~~~~~

Переделать функцию из задания 20.1 таким образом, чтобы она позволяла
контролировать количество параллельных проверок IP.

Для этого, необходимо добавить новый параметр limit, со значением по
умолчанию - 2.

Функция должна проверять адреса из списка таким образом, чтобы в любой
момент времени максимальное количество параллельных проверок было равным
limit.

Задание 20.2
~~~~~~~~~~~~

Создать функцию send\_commands\_threads, которая запускает функцию
send\_commands из задания 19.3 на разных устройствах в параллельных
потоках.

Параметры функции send\_commands\_threads надо определить
самостоятельно. Должна быть возможность передавать параметры show,
config, filename функции send\_commands.

Функция send\_commands\_threads возвращает словарь с результатами
выполнения команд на устройствах:

-  ключ - IP устройства
-  значение - вывод с выполнением команд

Задание 20.2a
~~~~~~~~~~~~~

Переделать функцию send\_commands\_threads из задания 20.2 таким
образом, чтобы с помощью аргумента limit, можно было указывать сколько
подключений будут выполняться параллельно.

По умолчанию, значение аргумента должно быть 2.
